@model NIA_CRM.Models.Contact

<div>
    <h3>Preview Details</h3>
    <div class="d-flex">
        <img src="~/images/preview.jpg" alt="Profile Picture of Summary"
             title="Profile Picture of Summary" class="img-fluid rounded" style="max-width: 150px; margin-right: 15px;" />
        <div>
            <p><strong>Contact Name:</strong> <br />@Model.Summary</p>
            <p><strong>Contact Email:</strong> <br /> @Model.EMail</p>
            <p><strong>Phone:</strong> <br /> @Model.Phone</p>
            <p><a href="@Model.LinkedinUrl" target="_blank">View LinkedIn</a></p>
        </div>
    </div>

    <div>
        <h5>Organization Details:</h5>
        @if (Model.ContactOrganizations.Any())
        {
            <ul>
                @foreach (var contactOrg in Model.ContactOrganizations)
                {
                    <li>
                        <strong>Organization Name:</strong> @contactOrg.Organization.OrganizationName
                        <br />
                        <strong>Organization Size:</strong> @contactOrg.Organization.OrganizationSize
                        <br />
                        <strong>Website:</strong> <a href="@contactOrg.Organization.OrganizationWeb" target="_blank">@contactOrg.Organization.OrganizationWeb</a>
                    </li>
                }
            </ul>
        }
        else
        {
            <p>No organizations associated with this contact.</p>
        }
    </div>

    <div class="mt-3">
        <label for="contactNote"><strong>Additional Notes:</strong></label><br />
        <label id="test"></label>

        <textarea id="contactNote" name="contactNote" class="form-control" rows="4" placeholder="Add notes here..." data-id="@Model.ID"></textarea>
    </div>

    <div>
        <a asp-action="Edit" asp-route-id="@Model.ID">Edit</a> |
        <a asp-action="Details" asp-route-id="@Model.ID">Details</a> |
        <a asp-action="Delete" asp-route-id="@Model.ID">Delete</a>
    </div>
</div>
