@model NIA_CRM.Models.Contact

<div>
    <div class="d-flex justify-content-between align-items-center px-2 mb-3">
        <h3>Contact Preview</h3>
        <input type="button" name="btnClose" value="X" id="btnClose" class="btn btn-danger" />
    </div>

    <div class="d-flex">
        <img src="~/images/preview.jpg" alt="Profile Picture of Summary"
             title="Profile Picture of Summary" class="img-fluid rounded me-3" style="max-width: 150px;" />
        <div>
            <p><strong>Contact Name:</strong> <br />@Model.Summary</p>
            <p><strong>Contact Email:</strong> <br /> @Model.Email</p>
            <p><strong>Phone:</strong> <br /> @Model.PhoneFormatted</p>
            <p><a href="@Model.LinkedInUrl" target="_blank">View LinkedIn</a></p>
        </div>
    </div>



    <div class="card card-body bg-light text-black">
        <h5>Industry:</h5>
        @{
            var industry = Model.MemberContacts.FirstOrDefault()?.Member; // Single industry object

            if (industry != null)
            {
                string industryName = industry.MemberName; // Industry Name
                string industrySize = industry.MemberSize.ToString(); // Industry Size
                string? industryWebsite = industry.WebsiteUrl; // Website URL

                <strong>Industry Name:</strong> @industryName <br />
                <strong>Industry Size:</strong> @industrySize <br />
                <strong>Website:</strong>
                @if (!string.IsNullOrEmpty(industryWebsite))
                {
                    <a href="@industryWebsite" target="_blank">@industryWebsite</a>
                }
                else
                {
                    <span>N/A</span>
                }
            }
            else
            {
                <p>No industry data available.</p>
            }
        }




        <div class="mt-3">
            <label for="contactNote"><strong>Additional Notes:</strong></label><br />
            <label id="test"></label>

            <textarea id="contactNote" name="contactNote" class="form-control" rows="4" placeholder="Add notes here..." data-id="@Model.Id"></textarea>
        </div>
    </div>
    <div class="sticky-buttons">
        <div class="sticky-buttons-container">
            <a class="btn btn-dark" asp-action="Edit" asp-controller="Contact" asp-route-id="@Model.Id">Edit</a>
            <a class="btn btn-dark" asp-controller="Member" asp-action="Details" asp-route-id="@Model.Id">Details</a>
            <a class="btn btn-primary" asp-action="Delete" asp-route-id="@Model.Id">Delete</a>
        </div>
    </div>
</div>
