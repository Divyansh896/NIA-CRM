@model NIA_CRM.Models.Member

<div>
    <h3>Preview Member Details</h3>
    <div class="d-flex">
        @{
            if (Model.MemberThumbnail?.Content != null)
            {
                string imageBase64 = Convert.ToBase64String(Model.MemberThumbnail.Content);
                string imageSrc = string.Format("data:" + Model.MemberThumbnail.MimeType + ";base64,{0}", imageBase64);
                <img src="@imageSrc" alt="Profile Picture of @Model?.Summary"
                     title="Profile Picture of @Model?.Summary" class="img-fluid rounded" />
            }
            else
            {

                <img src="images/blankProfile.jpg" alt="blank profile picture"
                     title="blank profile picture" class="img-fluid rounded" style="margin-right: 5px !important;" />
            }
        }
        <div>
            <p><strong>Member Name:</strong> @Model.MemberFirstName @Model.MemberLastName</p>

            <p><strong>Address:</strong></p>
            @if (Model.Addresses != null && Model.Addresses.Any())
            {
                foreach (var address in Model.Addresses)
                {
                    <p>
                        @address.AddressLine1'<br />
                        @if (!string.IsNullOrEmpty(address.AddressLine2))
                        {
                            @address.AddressLine2

                            <br />
                        }
                        @address.City, @address.StateProvince, @address.PostalCode<br />
                        @address.Country
                    </p>
                }
            }
            else
            {
                <p>No addresses available.</p>
            }
        </div>
    </div>

    <div class="mt-3">
        <label for="memberNote"><strong>Additional Notes:</strong></label><br />
        <textarea id="memberNote" name="memberNote" class="form-control" rows="4" placeholder="Add notes here..." data-id="@Model.ID"></textarea>
    </div>

    <div class="mt-3">
        <a class="btn btn-primary" asp-controller="Member" asp-action="Edit" asp-route-id="@Model.ID">Edit</a> |
        <a class="btn btn-primary" asp-controller="Member" asp-action="Details" asp-route-id="@Model.ID">Details</a> |
        <a class="btn btn-primary" asp-controller="Member" asp-route-id="@Model.ID">Archive</a>
    </div>
</div>
